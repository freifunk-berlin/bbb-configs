---
location: potse
location_nice: Potse
latitude: 52.4835273
longitude: 13.3902561
altitude: 51
contact_nickname: "Potse"
contacts:
  - "potse_berlin@riseup.net"

hosts:
  - hostname: potse-core
    role: corerouter
    model: "tplink_tl-wdr4900-v1"
    wireless_profile: potse

snmp_devices:
  - hostname: potse-flughafen
    address: 10.31.130.194
    snmp_profile: airos_8

ipv6_prefix: "2001:bf7:750:4100::/56"

# Potse got following prefixes:
# DHCP: 10.31.133.0/25
# PrDHCP: 10.31.133.128/25
# MGMT: 10.31.130.192/28
# MESH: 10.31.130.208/28 {as /32}

networks:
  - vid: 10
    role: mesh
    name: mesh_flughafen
    prefix: 10.31.130.208/32
    ipv6_subprefix: -1
    ptp: true

  - vid: 40
    role: dhcp
    inbound_filtering: true
    enforce_client_isolation: true
    prefix: 10.31.133.0/25
    ipv6_subprefix: 0
    assignments:
      potse-core: 1

  - vid: 41
    name: prdhcp
    role: dhcp
    prefix: 10.31.133.128/25
    ipv6_subprefix: 2
    inbound_filtering: true
    enforce_client_isolation: false
    assignments:
      potse-core: 1

  - vid: 42
    role: mgmt
    prefix: 10.31.130.192/28
    gateway: 1
    dns: 1
    ipv6_subprefix: 1
    assignments:
      potse-core: 1
      potse-flughafen: 2

location__wireless_profiles__to_merge:
  - name: potse
    ifaces:
      - mode: ap
        ssid: berlin.freifunk.net
        encryption: none
        network: dhcp
        radio: [11a_standard, 11g_standard]
        ifname_hint: ff
      - mode: ap
        ssid: berlin.freifunk.net Encrypted
        encryption: owe
        network: dhcp
        radio: [11a_standard, 11g_standard]
        ifname_hint: ffowe
        ieee80211w: 2
      - mode: mesh
        mesh_id: Mesh-Freifunk-Berlin
        radio: [11a_standard, 11g_standard, 11a_mesh]
        mcast_rate: 12000
        mesh_fwding: 0
        mesh_nolearn: 1
        ifname_hint: mesh
      - mode: ap
        ssid: "Potse WLAN"
        encryption: psk2
        key: "file:/root/wifi_pass"
        network: prdhcp
        radio: [11a_standard, 11g_standard]
        ifname_hint: prdhcp
